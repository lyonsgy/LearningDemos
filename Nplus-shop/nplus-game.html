<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>game</title>
    <link rel="stylesheet" href="css/nplus-shop.css">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="format-detection" content="telephone=no,email=no">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script>
        var deviceWidth = document.documentElement.clientWidth;
        if (deviceWidth > 750) deviceWidth = 750;
        document.documentElement.style.fontSize = deviceWidth / 7.5 + 'px';
        window.onresize = function () {
            var deviceWidth = document.documentElement.clientWidth;
            if (deviceWidth > 750) deviceWidth = 750;
            document.documentElement.style.fontSize = deviceWidth / 7.5 + 'px';
        };
    </script>
</head>

<body>
<!--cell-->
<!--
<div class="backView" id="backView0">
    <div class="title" id="titleLabel">
        标<br />题
    </div>
    <div class="content" id="contentLabel">
        简介
    </div>
    <div class="price">
        Free
    </div>
    <div class="gameType">
        冒险游戏
    </div>
    <button class="open" style='font-size:30px' type="button" onclick="myFunction()">立即体验</button>
</div>
-->

<!--js-->
<script>
    var data = [
        {
            title: "nightmare escape",
            content: "逃离梦魇",
            price: 0,
            gameType: "冒险游戏",
            image: "game0.png"
        },
        {
            title: "Dead Area",
            content: "亡命战场",
            price: 0,
            gameType: "冒险游戏",
            image: "game1.png"
        },
        {
            title: "overtime",
            content: "消灭加班狗",
            price: 0,
            gameType: "射击游戏",
            image: "game2.png"
        },
        {
            title: "battleground sniper",
            content: "绝地狙击",
            price: 0,
            gameType: "射击游戏",
            image: "game3.png"
        }
    ];

    function openClick() {
        alert("立即体验");
    }

    /* 根据 className 创建 backView */
    function creatBackView(index) {
        var backDiv = document.createElement("li");
        backDiv.className = "item-list";
        backDiv.id = "item-list" + index;
        var divWidth = 7.5 - 0.82;
        var aspectRatio = 668 / 824; //宽高比
        backDiv.style.width = divWidth + "rem";
        backDiv.style.height = divWidth / aspectRatio + "rem";

        var titleDiv = document.createElement("div");
        var contentDiv = document.createElement("div");
        var priceDiv = document.createElement("div");
        var gameTypeDiv = document.createElement("div");
        var openBtn = document.createElement("button");

        titleDiv.className = "title";
        titleDiv.id = "title" + index;

        contentDiv.className = "content";
        contentDiv.id = "content" + index;

        priceDiv.className = "price";
        priceDiv.id = "price" + index;

        gameTypeDiv.className = "gameType";
        gameTypeDiv.id = "gameType" + index;

        openBtn.className = "open";
        openBtn.innerText = "立即体验";
        //open.style.onclick = openClick;

        backDiv.appendChild(titleDiv);
        backDiv.appendChild(contentDiv);
        backDiv.appendChild(priceDiv);
        backDiv.appendChild(gameTypeDiv);
        backDiv.appendChild(openBtn);

        var game = data[index];

        titleDiv.innerText = game.title;
        contentDiv.innerText = game.content;
        priceDiv.innerText = priceString(game.price);
        gameTypeDiv.innerText = game.gameType;
        backDiv.style.background = "url(image/" + game.image + ")";
        backDiv.style.backgroundSize = "cover";
        return backDiv;
    }

    function priceString(price) {
        if (price == 0) {
            return "FREE";
        } else {
            return "￥" + price;
        }
    }

    /* 创建 number 个 backView */
    function creatBackViews(number) {
        var bodyDiv = document.createElement("div");
        var mainDiv = document.createElement("div");
        var footerDiv = document.createElement("div");
        bodyDiv.className = "body";
        mainDiv.className = "main";
        footerDiv.className = "footer";
        document.body.appendChild(bodyDiv);
        bodyDiv.appendChild(mainDiv);
        bodyDiv.appendChild(footerDiv);

        var ul

        for (var i = 0; i < number; i++) {
            var backDiv = creatBackView(i);
            mainDiv.appendChild(backDiv);
        }
    }

    creatBackViews(data.length);
</script>
<!--    <script type="text/javascript" src="js/nplus-game.js"></script>-->

</body>

</html>
